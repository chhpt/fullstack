<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>跨域请求 | The Full Stack Way</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/the-full-stack-way/assets/css/0.styles.90aa1ba0.css" as="style"><link rel="preload" href="/the-full-stack-way/assets/js/app.a2ea9d40.js" as="script"><link rel="preload" href="/the-full-stack-way/assets/js/2.fb5faba2.js" as="script"><link rel="preload" href="/the-full-stack-way/assets/js/55.a2045da0.js" as="script"><link rel="prefetch" href="/the-full-stack-way/assets/js/10.095c2c33.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/100.44917f9f.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/101.d88d9ddc.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/102.cd72bcd9.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/103.5eff4467.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/104.771e1bea.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/105.c29b04ea.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/106.ae77e562.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/107.227e4285.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/108.1a7f30ae.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/109.a7e11074.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/11.d5207318.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/12.5bb8674d.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/13.fb316ef5.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/14.47ce59ef.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/15.80922f3b.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/16.53f333b2.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/17.7af8ed1f.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/18.cec2fcc1.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/19.3de66f69.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/20.01400ae5.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/21.320ffa45.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/22.f3fbe6ce.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/23.0ae67d79.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/24.b1265f7e.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/25.2a841f26.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/26.3be43a12.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/27.1a355f2f.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/28.6b8964b1.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/29.f4b34094.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/3.ac96bfae.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/30.3448b48d.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/31.fda457f8.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/32.d6e275b3.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/33.5237bec4.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/34.5cc08bc9.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/35.f4b49db2.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/36.b959cc03.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/37.6ef347af.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/38.655895cd.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/39.98b68c54.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/4.aa7a354f.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/40.86e9eb42.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/41.db44d370.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/42.5de90c2a.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/43.a65bf7a9.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/44.e02baadd.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/45.ce41c01e.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/46.ba7d59b1.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/47.79af2bc1.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/48.04108f83.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/49.69e1f136.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/5.a6e9910f.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/50.623f3be7.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/51.b8327714.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/52.5469458d.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/53.f0877b1f.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/54.a53f6ae0.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/56.ec18840a.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/57.c8a9230e.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/58.3ef040ca.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/59.d9f1d22d.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/6.00fb76a1.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/60.161d197e.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/61.4dee47a0.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/62.d278a90f.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/63.23376e99.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/64.14c102cd.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/65.d3d5dfa5.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/66.c3f8e0f9.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/67.ce33c747.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/68.4732d810.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/69.4939661b.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/7.82749c3b.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/70.c04c9c9e.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/71.22a8c2e6.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/72.831cc989.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/73.5d333048.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/74.9f45b791.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/75.6da7438c.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/76.d0e2b539.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/77.cde60c54.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/78.99f9ab14.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/79.384286ed.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/8.05d9fcd4.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/80.ca1ff08c.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/81.12af6382.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/82.184419ce.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/83.86710538.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/84.ff062818.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/85.a5d993f8.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/86.a241c07d.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/87.08f213c1.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/88.b869a669.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/89.980f2dcc.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/9.a4bf94b1.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/90.911347f0.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/91.2543bf11.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/92.7fb21ab4.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/93.32265ea2.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/94.4c21ec36.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/95.be8c5e4b.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/96.d57c8f00.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/97.c3916a24.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/98.d467e8c0.js"><link rel="prefetch" href="/the-full-stack-way/assets/js/99.7e2ecbd8.js">
    <link rel="stylesheet" href="/the-full-stack-way/assets/css/0.styles.90aa1ba0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/the-full-stack-way/" class="home-link router-link-active"><!----> <span class="site-name">The Full Stack Way</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/the-full-stack-way/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/the-full-stack-way/data-structure-and-algorithms/" class="nav-link">数据结构与算法</a></li><li class="dropdown-item"><!----> <a href="/the-full-stack-way/operating-system/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/the-full-stack-way/network/" class="nav-link">网络</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Web 前端</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/the-full-stack-way/html&amp;css/" class="nav-link">HTML&amp;CSS</a></li><li class="dropdown-item"><!----> <a href="/the-full-stack-way/javascript/" class="nav-link router-link-active">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/the-full-stack-way/engineering/" class="nav-link">工程化</a></li><li class="dropdown-item"><!----> <a href="/the-full-stack-way/framework/" class="nav-link">框架</a></li><li class="dropdown-item"><!----> <a href="/the-full-stack-way/mini-program/" class="nav-link">小程序</a></li></ul></div></div><div class="nav-item"><a href="/the-full-stack-way/node/" class="nav-link">Node</a></div><div class="nav-item"><a href="/the-full-stack-way/database/" class="nav-link">数据库</a></div><div class="nav-item"><a href="/the-full-stack-way/docker/" class="nav-link">Docker</a></div><div class="nav-item"><a href="/the-full-stack-way/tools/" class="nav-link">工具</a></div><div class="nav-item"><a href="https://github.com/chhpt/the-full-stack-way" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/the-full-stack-way/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/the-full-stack-way/data-structure-and-algorithms/" class="nav-link">数据结构与算法</a></li><li class="dropdown-item"><!----> <a href="/the-full-stack-way/operating-system/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/the-full-stack-way/network/" class="nav-link">网络</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Web 前端</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/the-full-stack-way/html&amp;css/" class="nav-link">HTML&amp;CSS</a></li><li class="dropdown-item"><!----> <a href="/the-full-stack-way/javascript/" class="nav-link router-link-active">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/the-full-stack-way/engineering/" class="nav-link">工程化</a></li><li class="dropdown-item"><!----> <a href="/the-full-stack-way/framework/" class="nav-link">框架</a></li><li class="dropdown-item"><!----> <a href="/the-full-stack-way/mini-program/" class="nav-link">小程序</a></li></ul></div></div><div class="nav-item"><a href="/the-full-stack-way/node/" class="nav-link">Node</a></div><div class="nav-item"><a href="/the-full-stack-way/database/" class="nav-link">数据库</a></div><div class="nav-item"><a href="/the-full-stack-way/docker/" class="nav-link">Docker</a></div><div class="nav-item"><a href="/the-full-stack-way/tools/" class="nav-link">工具</a></div><div class="nav-item"><a href="https://github.com/chhpt/the-full-stack-way" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/the-full-stack-way/javascript/" class="sidebar-link">JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/#严格模式" class="sidebar-link">严格模式</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/#javascript-延迟加载" class="sidebar-link">JavaScript 延迟加载</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/#for-in-和-for-of" class="sidebar-link">for...in 和 for...of</a></li></ul></li><li><a href="/the-full-stack-way/javascript/foundation.html" class="sidebar-link">JavaScript 基础语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/foundation.html#javascript-数据类型" class="sidebar-link">JavaScript 数据类型</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/foundation.html#null-和-undefined" class="sidebar-link">null 和 undefined</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/foundation.html#基本类型和引用数据类型" class="sidebar-link">基本类型和引用数据类型</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/foundation.html#变量声明提升" class="sidebar-link">变量声明提升</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/foundation.html#和" class="sidebar-link">== 和 ===</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/foundation.html#宿主对象和原生对象" class="sidebar-link">宿主对象和原生对象</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/foundation.html#let-和-var" class="sidebar-link">let 和 var</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/foundation.html#判断变量是否数组类型" class="sidebar-link">判断变量是否数组类型</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/foundation.html#object-is-与-“-”，“-”" class="sidebar-link">Object.is() 与 “===”，“==”</a></li></ul></li><li><a href="/the-full-stack-way/javascript/function.html" class="sidebar-link">JavaScript 函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/function.html#arguments" class="sidebar-link">arguments</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/function.html#this" class="sidebar-link">this</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/function.html#闭包" class="sidebar-link">闭包</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/function.html#数组的原生方法" class="sidebar-link">数组的原生方法</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/function.html#apply、call、bind" class="sidebar-link">apply、call、bind</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/function.html#数组去重的方法" class="sidebar-link">数组去重的方法</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/function.html#获取数组最小值" class="sidebar-link">获取数组最小值</a></li></ul></li><li><a href="/the-full-stack-way/javascript/object.html" class="sidebar-link">JavaScript 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/object.html#内置对象" class="sidebar-link">内置对象</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/object.html#创建对象" class="sidebar-link">创建对象</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/object.html#typeof" class="sidebar-link">typeof</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/object.html#原型与原型链" class="sidebar-link">原型与原型链</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/object.html#new-操作符" class="sidebar-link">new 操作符</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/object.html#对象继承" class="sidebar-link">对象继承</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/object.html#对象的复制" class="sidebar-link">对象的复制</a></li></ul></li><li><a href="/the-full-stack-way/javascript/performance.html" class="sidebar-link">一、测试工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#性能分析" class="sidebar-link">性能分析</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#网络分析" class="sidebar-link">网络分析</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#脚本的位置" class="sidebar-link">脚本的位置</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#组织脚本" class="sidebar-link">组织脚本</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#无阻塞的脚本" class="sidebar-link">无阻塞的脚本</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#访问与修改" class="sidebar-link">访问与修改</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#html-集合" class="sidebar-link">HTML 集合</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#获取-dom-元素" class="sidebar-link">获取 DOM 元素</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#重绘与重排" class="sidebar-link">重绘与重排</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#事件委托" class="sidebar-link">事件委托</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#循环" class="sidebar-link">循环</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#递归" class="sidebar-link">递归</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#请求数据" class="sidebar-link">请求数据</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#发送数据" class="sidebar-link">发送数据</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#数据格式" class="sidebar-link">数据格式</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/performance.html#性能优化" class="sidebar-link">性能优化</a></li></ul></li><li><a href="/the-full-stack-way/javascript/theory.html" class="sidebar-link">JavaScript 原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/theory.html#内存回收机制" class="sidebar-link">内存回收机制</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/theory.html#事件执行机制" class="sidebar-link">事件执行机制</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/theory.html#执行环境和作用域链" class="sidebar-link">执行环境和作用域链</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/theory.html#jit-just-in-time-compiler" class="sidebar-link">JIT (just-in-time) Compiler</a></li></ul></li><li><a href="/the-full-stack-way/javascript/test.html" class="sidebar-link">测试</a></li><li><a href="/the-full-stack-way/javascript/patterns.html" class="sidebar-link">JavaScript 设计模式</a></li><li><a href="/the-full-stack-way/javascript/cors.html" class="active sidebar-link">跨域请求</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/cors.html#什么是跨域" class="sidebar-link">什么是跨域</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/cors.html#同源策略限制了什么" class="sidebar-link">同源策略限制了什么</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/cors.html#实现跨域的方法" class="sidebar-link">实现跨域的方法</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ES6</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/the-full-stack-way/javascript/es6/" class="sidebar-link">ECMAScript 6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/es6/#es6-中的新特性" class="sidebar-link">ES6 中的新特性</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/es6/#es6-的类与继承" class="sidebar-link">ES6 的类与继承</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/es6/#promise" class="sidebar-link">Promise</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/es6/#proxy" class="sidebar-link">Proxy</a></li></ul></li><li><a href="/the-full-stack-way/javascript/es6/dev.html" class="sidebar-link">ES6 开发环境配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/es6/dev.html#环境支持" class="sidebar-link">环境支持</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/es6/dev.html#转码" class="sidebar-link">转码</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>TypeScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/the-full-stack-way/javascript/typescript/" class="sidebar-link">TypeScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/typescript/#typescript-是什么" class="sidebar-link">TypeScript 是什么</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/typescript/#why-typescript" class="sidebar-link">Why TypeScript</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/typescript/#typescript-能做什么" class="sidebar-link">TypeScript 能做什么</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/typescript/#相关文章" class="sidebar-link">相关文章</a></li></ul></li><li><a href="/the-full-stack-way/javascript/typescript/doc.html" class="sidebar-link">环境声明</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/typescript/doc.html#环境声明" class="sidebar-link">环境声明</a></li><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/typescript/doc.html#接口" class="sidebar-link">接口</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>小技巧</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/the-full-stack-way/javascript/tips/" class="sidebar-link">JavaScript 小技巧</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/the-full-stack-way/javascript/tips/#json-stringify" class="sidebar-link">JSON.stringify</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="跨域请求"><a href="#跨域请求" aria-hidden="true" class="header-anchor">#</a> 跨域请求</h1> <h2 id="什么是跨域"><a href="#什么是跨域" aria-hidden="true" class="header-anchor">#</a> 什么是跨域</h2> <p>说起跨域，我们要先说浏览器的同源策略。同源策略是指处于安全原因，浏览器只允许网页中的脚本访问相同源（协议相同，域名相同，端口相同）下的资源。当一个资源从与该资源本身所在的服务器不同的域请求另一个资源时，资源会发起一个跨域 HTTP 请求。</p> <p>跨域并非不一定是浏览器限制了发起跨站请求，而也可能是跨站请求可以正常发起，但是返回结果被浏览器拦截了。域仅仅是通过 URL 的首部来识别，而 <strong>不会去尝试判断两个域是否在同一个 IP 上</strong>。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token constant">URL</span>                      说明       是否允许通信
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>a<span class="token punctuation">.</span>com<span class="token operator">/</span>a<span class="token punctuation">.</span>js
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>a<span class="token punctuation">.</span>com<span class="token operator">/</span>b<span class="token punctuation">.</span>js     同一域名下   允许

http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>a<span class="token punctuation">.</span>com<span class="token operator">/</span>lab<span class="token operator">/</span>a<span class="token punctuation">.</span>js
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>a<span class="token punctuation">.</span>com<span class="token operator">/</span>script<span class="token operator">/</span>b<span class="token punctuation">.</span>js 同一域名下不同文件夹 允许

http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>a<span class="token punctuation">.</span>com<span class="token punctuation">:</span><span class="token number">8000</span><span class="token operator">/</span>a<span class="token punctuation">.</span>js
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>a<span class="token punctuation">.</span>com<span class="token operator">/</span>b<span class="token punctuation">.</span>js     同一域名，不同端口  不允许

http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>a<span class="token punctuation">.</span>com<span class="token operator">/</span>a<span class="token punctuation">.</span>js
https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>a<span class="token punctuation">.</span>com<span class="token operator">/</span>b<span class="token punctuation">.</span>js 同一域名，不同协议 不允许

http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>a<span class="token punctuation">.</span>com<span class="token operator">/</span>a<span class="token punctuation">.</span>js
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">70.32</span><span class="token number">.92</span><span class="token number">.74</span><span class="token operator">/</span>b<span class="token punctuation">.</span>js 域名和域名对应 ip 不允许

http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>a<span class="token punctuation">.</span>com<span class="token operator">/</span>a<span class="token punctuation">.</span>js
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>script<span class="token punctuation">.</span>a<span class="token punctuation">.</span>com<span class="token operator">/</span>b<span class="token punctuation">.</span>js 主域相同，子域不同 不允许（cookie 这种情况下也不允许访问）
</code></pre></div><h2 id="同源策略限制了什么"><a href="#同源策略限制了什么" aria-hidden="true" class="header-anchor">#</a> 同源策略限制了什么</h2> <ul><li>Cookie、LocalStorage 和 IndexDB 无法读取。
<blockquote><p>在域名相同，端口不同的情况下，Cookie 可以共享。</p></blockquote></li> <li>DOM 无法获得。</li> <li>AJAX 请求不能发送。</li></ul> <h2 id="实现跨域的方法"><a href="#实现跨域的方法" aria-hidden="true" class="header-anchor">#</a> 实现跨域的方法</h2> <h3 id="_1-通过-document-domain-跨域"><a href="#_1-通过-document-domain-跨域" aria-hidden="true" class="header-anchor">#</a> 1. 通过 document.domain 跨域</h3> <p>当页面存在 <code>iframe</code> 标签，并且 <code>iframe</code> 请求的域名和网页的域名的主域名相同时，可以通过设置 <code>documnet.domain</code> 来实现，我有两个网页，A 网页是 <code>http://a.example.com/a.html</code>，B 网页是 <code>http://b.example.com/b.html</code>。只要设置 <code>document.domain</code> 为两个域名的超域名（更高一级的域名），两个网页就可以共享 <code>Cookie</code>，当使用 <code>iframe</code> 时，包含 <code>iframe</code> 的网页可以通过脚本访问 <code>iframe</code> 所链接网页的内容。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 设置共同的 domain</span>
document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">'mydomainc.com'</span><span class="token punctuation">;</span>
<span class="token comment">// A 页面设置 cookie</span>
document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">'a=atest'</span><span class="token punctuation">;</span>
<span class="token comment">// B 页面读取 cookie</span>
<span class="token keyword">var</span> cookie <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">;</span>
</code></pre></div><blockquote><p><strong>📋NOTE:</strong></p> <p>这种方法只适用于 Cookie 和 iframe 窗口，LocalStorage 和 IndexDB 无法通过这种方法规避同源政策，而要使用下文介绍的 PostMessage API。</p></blockquote> <p>另外，服务器也可以在设置 Cookie 的时候，指定 Cookie 的所属域名为一级域名，比如 <code>.example.com</code>。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>Set-Cookie: key<span class="token operator">=</span>value<span class="token punctuation">;</span> domain<span class="token operator">=</span>.example.com<span class="token punctuation">;</span> path<span class="token operator">=</span>/
</code></pre></div><p>这样的话，二级域名和三级域名不用做任何设置，都可以读取这个 Cookie。</p> <h3 id="_2-通过-window-name-跨域"><a href="#_2-通过-window-name-跨域" aria-hidden="true" class="header-anchor">#</a> 2. 通过 window.name 跨域</h3> <p>window 对象有个 name 属性，该属性有个特征：即在一个窗口 (window) 的生命周期内，窗口载入的所有的页面都是共享一个 window.name 的，每个页面对 window.name 都有读写的权限，window.name 是持久存在一个窗口载入过的所有页面中的。window.name 属性的神奇之处在于 name 值在不同的页面（甚至不同域名）加载后依旧存在（如果没修改则值不会变化），并且可以支持非常长的字符串。</p> <p>比如，一个页面中内嵌了一个 iframe</p> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>iframe<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://b.mydomainc.com/b.html<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在 <code>iframe</code> 需要加载的页面 <code>http://b.mydomainc.com/b.html</code> 中设置 <code>window.name</code> 为 <code>inner</code>。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'inner'</span><span class="token punctuation">;</span>
</code></pre></div><p>在父页面中写入如下代码：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'iframe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

<span class="token comment">// iframe 的 window 对象和父页面的 window 对象是不同的</span>
iframe<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  iframe<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     data <span class="token operator">=</span> iframe<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// inner</span>
   <span class="token punctuation">}</span>
  <span class="token comment">// iframe 的源替换成同源的，以读取 iframe 的 window 对象</span>
  iframe<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'about:blank'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>这样，就可以在父页面中读取子页面传递的信息了。</p> <h3 id="_3-通过-location-对象的-hash-属性跨域"><a href="#_3-通过-location-对象的-hash-属性跨域" aria-hidden="true" class="header-anchor">#</a> 3. 通过 location 对象的 hash 属性跨域</h3> <p>URL 有一部分被称为 <code>hash</code>，就是 # 号及其后面的字符，它一般用于浏览器锚点定位。HTTP 请求过程中不会携带 hash，所以这部分的修改不会产生 HTTP 请求，但是会产生浏览器历史记录。父窗口可以对 iframe 进行 URL 读写，iframe 也可以读写父窗口的 URL。基于以上的原理，可以利用改变 URL 的 hash 部分来进行双向通信， 每个 window 通过改变其他 window 的 location 来发送消息，并通过监听自己的 URL 的变化来接收消息。</p> <p>这个方式的通信会造成一些不必要的浏览器历史记录，而且有些浏览器不支持 <code>onhashchange</code> 事件，需要轮询来获知 URL 的改变，最后，这样做也存在缺点，诸如数据直接暴露在了 URL 中，数据容量和类型都有限等。</p> <p>父窗口传递信息到子窗口</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> src <span class="token operator">=</span> originURL <span class="token operator">+</span> <span class="token string">'#'</span> <span class="token operator">+</span> data<span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'iframe'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span>
</code></pre></div><p>子窗口传递信息到父窗口</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 由于两个页面不在同一个域下 IE、Chrome 不允许修改 parent.location.hash 的值</span>
<span class="token comment">// 所以要借助于父窗口域名下的一个代理 iframe</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    parent<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash <span class="token operator">=</span> <span class="token string">'data'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ie、chrome 的安全机制无法修改 parent.location.hash</span>
    <span class="token keyword">var</span> ifrproxy <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'iframe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ifrproxy<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
    ifrproxy<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;http://www.parentdomain.com/proxy.html#data&quot;</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>ifrproxy<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>proxy.html 页面的关键代码如下</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 因为 parent.parent（即 parentdomain.com/a.html）和 parentdomain.com/proxy.html 属于同一个域</span>
<span class="token comment">// 所以可以改变其 location.hash 的值</span>
parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash <span class="token operator">=</span> self<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>窗口通过监听 haschange 事件得到通知</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>onhashchange <span class="token operator">=</span> checkMessage<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">checkMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> message <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-通过-html5-的-window-postmessage-跨域"><a href="#_4-通过-html5-的-window-postmessage-跨域" aria-hidden="true" class="header-anchor">#</a> 4. 通过 HTML5 的 window.postMessage 跨域</h3> <p>HTML5 引入了一个全新的 API：跨文档通信 API（Cross-document messaging）。这个 API 为 window 对象新增了一个 window.postMessage 方法，允许跨窗口通信，不论这两个窗口是否同源。 Internet Explorer 8+, Chrome，Firefox , Opera 和 Safari 都支持这个功能。但是 Internet Explorer 8 和 9 以及 Firefox 6.0 和更低版本仅支持字符串作为 postMessage 的消息。</p> <p>例如，窗口 A <code>http://a.mydomainc.com</code> 向窗口 B <code>http://b.mydoaminc.com/b.html</code> 发消息，调用 postMessage 方法就可以了。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> popup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'http://b.mydomainc.com/b.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 打开新的窗口后，延迟一段时间，等待加载完成再发送消息</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  popup<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'Hello Message'</span><span class="token punctuation">,</span> <span class="token string">'http://b.mydomainc.com/b.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>postMessage 方法的第一个参数是具体的信息内容，第二个参数是接收消息的窗口的源（origin），即 &quot;协议 + 域名 + 端口&quot;。也可以设为 *，表示不限制域名，向所有窗口发送。</p> <p>当在窗口 A 中通过 iframe 加载页面 <code>http://b.mydoaminc.com/b.html</code> 时：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'iframe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
iframe<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  iframe<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'Hello Message'</span><span class="token punctuation">,</span> <span class="token string">'http://b.mydomainc.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>在页面中接受消息</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-通过-jsonp-跨域"><a href="#_5-通过-jsonp-跨域" aria-hidden="true" class="header-anchor">#</a> 5. 通过 JSONP 跨域</h3> <p>JSONP 是服务器与客户端跨源通信的常用方法。最大特点就是简单适用，老式浏览器全部支持，服务器改造非常小。</p> <p>它的基本思想是，网页通过添加一个 <code>&lt;script&gt;</code> 元素，向服务器请求 JSON 数据，这种做法不受同源政策限制；服务器收到请求后，将数据放在一个指定名字的回调函数里传回来。</p> <p>首先，网页动态插入 <code>&lt;script&gt;</code> 元素，由它向跨源网址发出请求。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">addScriptTag</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  script<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;text/javascript&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">addScriptTag</span><span class="token punctuation">(</span><span class="token string">'http://example.com/ip?callback=foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Your public IP address is:'</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>ip<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码通过动态添加 <code>&lt;script&gt;</code> 元素，向服务器 <code>example.com</code> 发出请求。注意，该请求的查询字符串有一个 <code>callback</code> 参数，用来指定回调函数的名字，这对于 JSONP 是必需的。</p> <p>服务器收到这个请求以后，会将数据放在回调函数的参数位置返回。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string">&quot;ip&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;8.8.8.8&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>由于 <code>&lt;script&gt;</code> 元素请求的脚本，直接作为代码运行。这时，只要浏览器定义了 <code>foo</code> 函数，该函数就会立即调用。作为参数的 JSON 数据被视为 JavaScript 对象，而不是字符串，因此避免了使用 <code>JSON.parse</code> 的步骤。</p> <p>JSONP 的缺点是它只支持 <code>GET</code> 请求而不支持 <code>POST</code> 等其它类型的 <code>HTTP</code> 请求。它只支持跨域 <code>HTTP</code> 请求这种情况，不能解决不同域的两个页面之间如何进行 JavaScript 调用的问题。</p> <h3 id="_6-通过-websocket-跨域"><a href="#_6-通过-websocket-跨域" aria-hidden="true" class="header-anchor">#</a> 6. 通过 WebSocket 跨域</h3> <p>WebSocket 是 HTML5 的一种新的通信协议，使用 <code>ws://</code>（非加密）和 <code>wss://</code>（加密）作为协议前缀。该协议不实行同源政策，只要服务器支持，就可以通过它进行跨源通信。</p> <p>以下代码利用了 <code>socket.io</code> 库进行展示</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> iosocket <span class="token operator">=</span> io<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'http://127.0.0.1:1234/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
$ul <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
$input <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

iosocket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'connect'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 接通处理</span>
  $ul<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;li &gt; 连上啦&lt;/li&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  iosocket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 收到信息处理</span>
    $ul<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;li&gt;&lt;/li&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  iosocket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'disconnect'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 断开处理</span>
    $ul<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'&lt;li&gt;Disconnected&lt;/li&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

$input<span class="token punctuation">.</span><span class="token function">keypress</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>which <span class="token operator">==</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 回车</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    iosocket<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>$input<span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    $input<span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> io <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'socket.io'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> server <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'Content-type'</span><span class="token punctuation">:</span> <span class="token string">'text/html'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

io<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>server<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'connection'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">client</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 监听到信息处理</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Message Received:'</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        client<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'服务器收到了信息：'</span><span class="token operator">+</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;disconnect&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 断开处理</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Server has disconnected&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_7-通过-cors-跨域"><a href="#_7-通过-cors-跨域" aria-hidden="true" class="header-anchor">#</a> 7. 通过 CORS 跨域</h3> <p><code>CORS(Cross-Origin Resource Sharing)</code> 跨域资源共享，定义了必须在访问跨域资源时，浏览器与服务器应该如何沟通。<code>CORS</code> 背后的基本思想就是使用自定义的 HTTP 头部让浏览器与服务器进行沟通，从而决定请求或响应是应该成功还是失败。目前，所有浏览器都支持该功能，IE 浏览器不能低于 IE10。整个 <code>CORS</code> 通信过程，都是浏览器自动完成，不需要用户参与。对于开发者来说，<code>CORS</code> 通信与同源的 AJAX 通信基本没有差别，代码完全一样。浏览器一旦发现 AJAX 请求跨源，就会自动添加一些附加的头信息，有时还会多出一次附加的请求，但用户不会有感觉。</p> <h4 id="两种请求"><a href="#两种请求" aria-hidden="true" class="header-anchor">#</a> 两种请求</h4> <p>浏览器将 CORS 请求分成两类：简单请求（simple request）和非简单请求（not-so-simple request）。</p> <p>只要同时满足以下两大条件，就属于简单请求。</p> <ul><li>请求方法是以下三种方法之一
<ul><li>HEAD</li> <li>GET</li> <li>POST</li></ul></li> <li>HTTP 的头信息不超出以下几种字段：
<ul><li>Accept</li> <li>Accept-Language</li> <li>Content-Language</li> <li>Last-Event-ID</li> <li>Content-Type：只限于三个值 <code>application/x-www-form-urlencoded</code>、<code>multipart/form-data</code>、<code>text/plain</code></li></ul></li></ul> <p>凡是不同时满足上面两个条件，就属于非简单请求。浏览器对这两种请求的处理，是不一样的。</p> <h4 id="基本流程"><a href="#基本流程" aria-hidden="true" class="header-anchor">#</a> 基本流程</h4> <p>对于简单请求，浏览器直接发出 CORS 请求。在头信息之中，增加一个 Origin 字段，Origin 字段用来说明，本次请求来自哪个源（协议 + 域名 + 端口）。服务器根据这个值，决定是否同意这次请求。</p> <p>如果 Origin 指定的源，不在许可范围内，服务器会返回一个正常的 HTTP 回应。浏览器发现，这个回应的头信息没有包含 <code>Access-Control-Allow-Origin</code> 字段（详见下文），就知道出错了，从而抛出一个错误，被 <code>XMLHttpRequest</code> 的 <code>onerror</code> 回调函数捕获。注意，这种错误无法通过状态码识别，因为 HTTP 回应的状态码有可能是 200。</p> <p>如果 Origin 指定的域名在许可范围内，服务器返回的响应，会多出几个头信息字段。</p> <div class="language-text extra-class"><pre class="language-text"><code>Access-Control-Allow-Origin: http://api.bob.com
Access-Control-Allow-Credentials: true
Access-Control-Expose-Headers: FooBar
Content-Type: text/html; charset=utf-8
</code></pre></div><p>上面的头信息之中，有三个与 CORS 请求相关的字段，都以 <code>Access-Control-</code> 开头。</p> <p><strong>Access-Control-Allow-Origin</strong></p> <blockquote><p>该字段是必须的。它的值要么是请求时 Origin 字段的值，要么是一个 *，表示接受任意域名的请求。</p></blockquote> <p><strong>Access-Control-Allow-Credentials</strong></p> <blockquote><p>该字段可选。它的值是一个布尔值，表示是否允许发送 Cookie。默认情况下，Cookie 不包括在 CORS 请求之中。设为 true，即表示服务器明确许可，Cookie 可以包含在请求中，一起发给服务器。这个值也只能设为 true，如果服务器不要浏览器发送 Cookie，删除该字段即可。</p></blockquote> <p><strong>Access-Control-Expose-Headers</strong></p> <blockquote><p>该字段可选。CORS 请求时，XMLHttpRequest 对象的 getResponseHeader()方法只能拿到 6 个基本字段：Cache-Control、Content-Language、Content-Type、Expires、Last-Modified、Pragma。如果想拿到其他字段，就必须在 Access-Control-Expose-Headers 里面指定。上面的例子指定，getResponseHeader('FooBar')可以返回 FooBar 字段的值。</p></blockquote> <h4 id="withcredentials-属性"><a href="#withcredentials-属性" aria-hidden="true" class="header-anchor">#</a> withCredentials 属性</h4> <p>上面说到，CORS 请求默认不发送 Cookie 和 HTTP 认证信息。如果要把 Cookie 发到服务器，一方面要服务器同意，指定 <code>Access-Control-Allow-Credentials</code> 字段。</p> <div class="language-text extra-class"><pre class="language-text"><code>Access-Control-Allow-Credentials: true
</code></pre></div><p>另一方面，开发者必须在 AJAX 请求中打开 withCredentials 属性。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span>withCredentials <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><p>否则，即使服务器同意发送 Cookie，浏览器也不会发送。或者，服务器要求设置 Cookie，浏览器也不会处理。</p> <p>需要注意的是，如果要发送 Cookie，Access-Control-Allow-Origin 就不能设为星号，必须指定明确的、与请求网页一致的域名。同时，Cookie 依然遵循同源政策，只有用服务器域名设置的 Cookie 才会上传，其他域名的 Cookie 并不会上传，且（跨源）原网页代码中的 document.cookie 也无法读取服务器域名下的 Cookie。</p> <h4 id="非简单请求"><a href="#非简单请求" aria-hidden="true" class="header-anchor">#</a> 非简单请求</h4> <p>非简单请求是那种对服务器有特殊要求的请求，比如请求方法是 <code>PUT</code> 或 <code>DELETE</code>，或者 <code>Content-Type</code> 字段的类型是 <code>application/json</code>。</p> <p>非简单请求的 CORS 请求，会在正式通信之前，增加一次 HTTP 查询请求，称为 &quot;预检&quot; 请求（preflight）。</p> <p>浏览器先询问服务器，当前网页所在的域名是否在服务器的许可名单之中，以及可以使用哪些 HTTP 动词和头信息字段。只有得到肯定答复，浏览器才会发出正式的 XMLHttpRequest 请求，否则就报错。</p> <p>&quot;预检&quot; 请求用的请求方法是 OPTIONS，表示这个请求是用来询问的。服务器收到 &quot;预检&quot; 请求以后，检查了 <code>Origin</code>、<code>Access-Control-Request-Method</code> 和 <code>Access-Control-Request-Headers</code> 字段以后，确认允许跨源请求，就可以做出回应。</p> <p>更多关于 CORS 请看参考链接。</p> <h3 id="参考"><a href="#参考" aria-hidden="true" class="header-anchor">#</a> 参考</h3> <ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank" rel="noopener noreferrer">Cross-Origin Resource Sharing(CORS)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.ruanyifeng.com/blog/2016/04/same-origin-policy.html" target="_blank" rel="noopener noreferrer">浏览器同源政策及其规避方法<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://segmentfault.com/a/1190000007326671" target="_blank" rel="noopener noreferrer">前端跨域整理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.cnblogs.com/vajoy/p/4295825.html#it3" target="_blank" rel="noopener noreferrer">浅谈 WEB 跨域的实现（前端向）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> WebSocket 部分</li> <li><a href="http://www.ruanyifeng.com/blog/2016/04/cors.html" target="_blank" rel="noopener noreferrer">跨域资源共享 CORS 详解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://yq.aliyun.com/articles/69313" target="_blank" rel="noopener noreferrer">CORS——跨域请求那些事儿<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2019-03-29 07:01:41</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/the-full-stack-way/javascript/patterns.html" class="prev">
          JavaScript 设计模式
        </a></span> <span class="next"><a href="/the-full-stack-way/javascript/es6/">
          ECMAScript 6
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/the-full-stack-way/assets/js/app.a2ea9d40.js" defer></script><script src="/the-full-stack-way/assets/js/2.fb5faba2.js" defer></script><script src="/the-full-stack-way/assets/js/55.a2045da0.js" defer></script>
  </body>
</html>
